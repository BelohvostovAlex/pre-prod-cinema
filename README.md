# Modsen cinema web-application

## Содержание

- [Используемые технологии](#Используемые-технологии)
- [API](#API)
- [Техническое задание](#Техническое-задание)
- [Тестирование](#Тестирование)

## Используемые технологи

- **_yarn_** - менеджер пакетов.
- **_react_** - JavaScript-библиотека для создания пользовательских интерфейсов.
- **_redux_** - инструмент управления состоянием приложения.
- **_typescript_** - типизированный язык над JS.
- **_styled-components_** - система стилизации react компонентов.
- **_cypress_** — e2e тестирование для веб-приложений.
- **_jest_** — unit тестирование.
- **_eslint_** - статический анализатор кода.
- **_prettier_** - форматирует код.
- **_husky_** - позволяет выполнять некоторые действия во время коммита или пуша кода в ветку.
- **_firebase_** - платформа для разработки приложений, предоставляет облачное хранилище, аналитику и многое другое.
- **_storybook_** - ваша собственная ui библиотека компонентов.

## API

- **_[IMDb Top 100 Movies](https://rapidapi.com/rapihub-rapihub-default/api/imdb-top-100-movies/)_** - топ фильмов по рейтингу imdb.
- **_[Movie Details](https://rapidapi.com/goodmoviesaps/api/movie-details1/)_** - поиск фильмов по imdb id.
- **_[OTT details](https://rapidapi.com/gox-ai-gox-ai-default/api/ott-details/)_** - продвинутый поиск фильмов по параметрам.

## Техническое задание

Необходимо реализовать приложение, схожее по своей функциональности с кинопоиском, также с возможностью букинга билетов в кинотеатр.
[Figma](https://www.figma.com/file/1XVy7pFO9bYXQmk7LnBi72/Modsen-Movies-Web?node-id=0%3A1&t=R1TxPOm7lElCDAe1-0) <br>

### Общие требования

- Реализовать обработку ошибок через паттерн _"Error Boundaries"_.
- Реализация светлой и тёмной темы с использованием _styled-components_.
- Использование TypeScript для типизирования и уменьшения количества потенциальных багов.
- Для управления состоянием используется redux.
- Использование алиасов для импортирования файлов.
- Покрытие тестами всего приложения.
- Для форматирование кода использовать eslint + pretter.
- Добавить CI/CD, используя [GitHub Actions](https://github.com/features/actions).
- Создать UI библиотеку, используя storybook.
- Обязательная анимация наведения, нажатия на кнопки, прокрутки карусели и слайдеров, появления элементов на странице при рендере и скролле.
- Творчество в контекте анимации, помимо обязательной выше, приветсвуется.
  <br>
  !!! Для реализации запрещено использовать какие-либо UI библиотеки, в том числе и для плеера видео.<br>Данный функционал нужно реализовать самостоятельно.

### 1. Главная страница

Главная страница доступна всем пользователям, при переходе на страницу букинга или клике по вкладке Bookings, юзера перекидывает на страницу авторизации. Для защиты роутов используйте JWT.

При клике на трейлер, видео должно открыться в модальном режиме и начать проигрываться c выключенным звуком.

Видеоплеер должен быть кастомизирован самостоятельно: полоса прокрутки, кнопки play/pause, полноэкранный режим и т.д.
![Player](./images/player.png)
Плеер поддерживает горячие клавиши:

- Space - play/pause.
- M - вкл/выкл звук.
- F - полноэкранный режим.
- -> промотать вперед на 10 секунд.
- <- промотать назад на 10 секунд.
- ">" ускорить воспроизведение видео. Шаг 0.25.
- "<" видео проигрывается медленнее. Шаг 0.25.

Ниже находится карусель с фильмами, идущими в прокате в данный момент. При нажатии на любой из них пользователя перебрасывает на страницу фильма, с подробной информацией и возможностью букинга билетов.

У пользователя должна быть возможность прокручивать карусель с помощью стрелочек и колесика мыши. Все изменения должны быть анимированы (scale изображений, прокручивание карусели, нажатие, наведение на кнопки).

### 2. Окно регистрации/авторизации

Реализацию данного функционала следует осуществлять через [firebase](https://firebase.google.com/docs/auth) с возможностью авторизоваться через почту, gitHub, facebook, Google.

Для регистрации необходимы 4 поля: имя, фамилия, почта и пароль.
Для форм можно использовать [formik](https://formik.org/docs/overview).
Каждое поле должно содержать [валидацию](https://github.com/jquense/yup).
Пароль должен быть скрыт при вводе.
Cледует отображать индикатор сложности пароля:

- Low: 4-8 символов.
- Mediunm: 8-12 символов + верхний регистр.
- High: 12-16 символов + верхний регистр + иные символы (.,!?/).

Строго UI/UX для индикатора сложности нет. Пример индикатора представлен ниже.
![Indicator](./images/indicator.png)

### 3. Страница фильма.

Каждый фильм имеет отдельную страницу, содержащую всю необходимую информацию, соответсвующую дизайну. <br>
Помимо всего прочего фон страницы опреляется цветовой гаммой постера. Например постер к фильму Black Panther: Wakanda Forever имеет два ярко выраженных оттенка - фиолетовый и светло-фиолетовый. Они определяют градиент фона. В данном случае не запрещается прибегать к помощи библиотек. <br>
Плеер имеет функциональность, описанную в блоке "Главная страница".

Завершающим является блок Review. В нем необходимо отобразить отзывы кинокритиков. Вы должны добавить возможность расширения вниз кликом на соответсвующую кнопку. Увеличение блока должно быть плавным с возможностью свернуть его обратно.

Фильм может быть доступен для букинга или быть в состоянии coming soon. Соответвующее состояние определяется кнопкой возле рейтинга фильма [figma](https://www.figma.com/file/1XVy7pFO9bYXQmk7LnBi72/Modsen-Movies-Web?node-id=0%3A1&t=10d84LYdEjHDg0nF-0).

### 4. Film booking

Если фильм доступен для букинга, при клике появляется блок с возможностью выбрать данные для резервации билета.

Дожно соблюдаться условие невозможности выбора даты в прошлом. Букинг не возможен на срок более чем 7 дней с текущего.

Пользователь не должден именть возможность выбирать занятые места. Все остальные должны быть доступны для выбора. <br>
В соответсвии с количеством выбранных мест и даты формируется цена.<br>
Каждый день от текущего -5% от стоимости. Например в понедельник стоимость состовляет 100$ за 10 билетов, в среду она будет 90$(-10%).<br>
Для сохранения состояния букингов используйте localStorage.

### 5. User bookings.

На данной странице отображаются букинги пользователя. Представлены 3 категори: upcomings - предстоящие сеансы, past - посещенные, missing - забуканные, но не посещенные.<br>
У пользователя должна быть возможность отменить резервацию. После процедуры отмены, резервация попадает в секцию missing.

### 6. Profile

После авторизации в верхнем правом углу появляется иконка профиля с соответвующей надписью. При нажатии на нее плавно появляется профиль пользователя. В нем отображается базовая информация о пользователе и его фото.

- Edit profile открывает модальное окно, где у пользователя есть возможность поменять фото, имя, пол, пароль.
- Settings - модальное окно, с предоставленим возможности смены темы и языка. Тема сменяется плавно, начиная с верхнего правого угла. Цветовая палитра темы на ваше усмотрение.
- Log out - выход из аккаунта.

Возможности settings должны быть реализованы для неавторизованных пользоваетлей (главный экран, шестеренка, открывающая такое же модальное окно).

### 7. Footer

В нижней панеле есть секция отправки email. Вы должны реализовать проcтую отправку введенного в это поле email вам на почту для обратной связи.

## Тестирование

### E2E тестирование

Реализовать e2e тестирование c полным покрытием функционала приложения. Каждый скрин приложения должен содержать тесты Detox (кроме splash screen).

- Все кнопки должны работать и обладать эффектами наведения и нажатия (opacity, ripple).
- Заполнение формы должно содержать визуализацию валидации, пароль должен быть скрыт.
- Все кнопки видеоплеера (пауза, play и т.д.) должны корректно отрабатывать. При двойном клике на видео, происходит смена состояния play/pause. Также необходимо проверить управляющих клавишь для плеера.
- Выбор мест в кинотеатре: ячейки должны менять цвет в зависимости от состояния. Нет возможности выбирать уже занятые места.
- Выбор даты в календаре: дни в прошлом не должны быть доступны для выбора.
- Поиск и фильтрация должны работать в соответсвии с выбранными значениями.
- Все кнопки в деталях о фильме должны работать в соответствии с заявленным функционалом.
- Cмена языка и темы должны работать во всем приложении.
  Также остальную визуальную составляющую приложения, не описанную выше, необходимо покрыть e2e тестами.

### Unit тестирование

- Функционал приложения должен быть покрыт тестами jest (минимум 90%).
